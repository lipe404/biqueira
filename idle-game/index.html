<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>A FIRMA: Tycoon do Corre</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link
            href="https://fonts.googleapis.com/css2?family=Black+Ops+One&family=Permanent+Marker&family=Teko:wght@300;400;500;600;700&display=swap"
            rel="stylesheet">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/base.css">
        <link rel="stylesheet" href="css/layout.css">
        <link rel="stylesheet" href="css/components.css">
        <link rel="stylesheet" href="css/save_modal.css">
        <link rel="stylesheet" href="css/animations.css">
    </head>
    <body>
        <div class="game-container">
            <header>
                <h1>A FIRMA <span
                        class="subtitle">"O progresso n√£o para."</span></h1>
                
                <div class="header-stats">
                    <div class="rank-display" id="rank-container">
                        <span class="rank-label">POSTO:</span>
                        <span class="rank-value" id="rank-name">VAPOR</span>
                        <div class="rank-progress-container" title="Progresso para pr√≥ximo posto">
                            <div class="rank-progress-bar" id="rank-progress" style="width: 0%"></div>
                        </div>
                    </div>

                    <div class="prestige-display">
                        <span id="influence-display">RESPEITO: 0</span>
                    </div>
                </div>
            </header>

            <main>
                <!-- LEFT: Production & Resources -->
                <section class="panel production-panel" aria-labelledby="heading-production">
                    <h2 id="heading-production">O PONTO</h2>

                    <div class="resources" role="group" aria-label="Recursos Atuais">
                        <div class="res-item money">
                            <span class="label">CAIXA</span>
                            <span class="value" id="money" aria-live="polite">$0.00</span>
                            <span class="rate" id="money-rate" aria-live="off">(+$0/s)</span>
                        </div>
                        <div class="res-item widgets">
                            <span class="label">MERCADORIA</span>
                            <span class="value" id="widgets" aria-live="polite">0</span>
                            <span class="rate" id="widget-rate" aria-live="off">(+0/s)</span>
                        </div>
                        <div class="res-item heat">
                            <span class="label">CALOR</span>
                            <div class="progress-bar" role="progressbar" aria-label="N√≠vel de perigo policial" aria-valuemin="0" aria-valuemax="100">
                                <div class="fill" id="heat-bar"
                                    style="width: 0%"></div>
                            </div>
                            <span class="value" id="heat-val" aria-live="polite">0%</span>
                        </div>
                    </div>

                    <div class="actions">
                        <button id="btn-make" class="btn-big make" aria-label="Produzir Mercadoria">
                            PRODUZIR
                            <small>+<span id="click-power">1</span>
                                Mercadoria</small>
                        </button>
                        <button id="btn-sell" class="btn-big sell" aria-label="Vender Mercadoria por Dinheiro">
                            PASSAR ADIANTE
                            <small>Transformar Mercadoria em Grana</small>
                        </button>
                    </div>
                </section>

                <!-- CENTER: Upgrades & Management -->
                <section class="panel upgrades-panel" aria-labelledby="heading-upgrades">
                    <h2 id="heading-upgrades">COMANDO</h2>
                    <div id="upgrades-list" class="scroll-list" aria-label="Lista de Melhorias">
                        <!-- Upgrades injected here -->
                    </div>
                </section>

                <!-- RIGHT: Automation & Logs -->
                <section class="panel automation-panel" aria-labelledby="heading-automation">
                    <h2 id="heading-automation">EQUIPE DO CORRE</h2>
                    
                    <!-- Bulk Buy Controls -->
                    <div class="buy-controls" role="group" aria-label="Multiplicador de Compra">
                        <span class="label">COMPRAR:</span>
                        <button class="btn-multiplier active" data-value="1" aria-pressed="true">x1</button>
                        <button class="btn-multiplier" data-value="10" aria-pressed="false">x10</button>
                        <button class="btn-multiplier" data-value="100" aria-pressed="false">x100</button>
                        <button class="btn-multiplier" data-value="MAX" aria-pressed="false">MAX</button>
                    </div>

                    <div id="npcs-list" class="scroll-list" aria-label="Lista de Contrata√ß√µes">
                        <!-- NPCs injected here -->
                    </div>

                    <div class="logs-container" aria-live="polite" aria-atomic="false">
                        <h3>R√ÅDIO PE√ÉO</h3>
                        <div id="game-logs" class="logs-list"></div>
                    </div>
                </section>
            </main>

            <footer>
                <div class="stats">
                    Tempo de Corre: <span id="playtime">00:00:00</span>
                </div>
                <div class="system-controls">
                    <button id="btn-save-menu">OP√á√ïES / SAVE</button>
                    <button id="btn-prestige" class="btn-prestige">Virar Patr√£o
                        (Prest√≠gio)</button>
                </div>
            </footer>
        </div>

        <!-- Modals or Overlays -->
        <div id="penalty-overlay" class="overlay hidden">
            <div class="modal">
                <h2>MOIOU!</h2>
                <p>A casa caiu. Opera√ß√£o policial em andamento.</p>
                <div class="spinner"></div>
            </div>
        </div>

        <div id="rank-overlay" class="overlay hidden">
            <div class="modal rank-modal">
                <h2>SUBIU DE POSTO!</h2>
                <div class="rank-badge">üëë</div>
                <p id="rank-msg-display">Voc√™ agora √© Vapor.</p>
                <p class="rank-bonus" id="rank-bonus-display">+0% B√¥nus Global</p>
                <button id="btn-close-rank" class="btn-modal">J√Å √â</button>
            </div>
        </div>

        <div id="save-overlay" class="overlay hidden">
            <div class="modal save-modal">
                <h2>GERENCIAR PROGRESSO</h2>
                
                <div class="save-info" id="save-metadata">
                    <p>Carregando dados...</p>
                </div>

                <div class="save-controls">
                    <div class="control-group">
                        <h3>Local</h3>
                        <button id="btn-modal-save" class="btn-modal">Salvar Agora</button>
                        <button id="btn-modal-load" class="btn-modal">Carregar Save</button>
                        <button id="btn-modal-reset" class="btn-modal danger">Apagar Tudo</button>
                    </div>

                    <div class="control-group">
                        <h3>Arquivo</h3>
                        <button id="btn-export" class="btn-modal">Exportar (Download)</button>
                        <button id="btn-import-trigger" class="btn-modal">Importar</button>
                        <input type="file" id="file-import" accept=".json,.txt" style="display: none;">
                    </div>

                    <div class="control-group">
                        <h3>Op√ß√µes</h3>
                        <label>
                            <input type="checkbox" id="chk-autosave" checked>
                            Autosave (30s)
                        </label>
                    </div>
                </div>

                <button id="btn-close-save" class="btn-modal">FECHAR</button>
            </div>
        </div>

        <!-- Save Indicator -->
        <div id="save-indicator" class="save-indicator">
            <span class="save-icon"></span>
            <span>SALVANDO...</span>
        </div>

        <script type="module" src="js/main.js"></script>
    </body>
</html>
